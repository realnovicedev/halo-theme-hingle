<header>

    <script>
        (function () {
            var root = document.documentElement;
            var body = document.body;
            window.Hingle = window.Hingle || {};

            function applyThemeClass(isDark) {
                var classes = ["dark-theme", "color-scheme-dark", "color-scheme-light"];

                classes.forEach(function (cls) {
                    root.classList.remove(cls);
                    body.classList.remove(cls);
                });

                if (isDark) {
                    root.classList.add("dark-theme", "color-scheme-dark");
                    body.classList.add("dark-theme", "color-scheme-dark");
                } else {
                    root.classList.add("color-scheme-light");
                    body.classList.add("color-scheme-light");
                }

                window.Hingle.initialNight = isDark;
            }

            var isDark = typeof window.Hingle.initialNight !== "undefined"
                ? window.Hingle.initialNight
                : document.cookie.indexOf("night=true") !== -1;

            applyThemeClass(isDark);
            window.Hingle.applyThemeClass = applyThemeClass;
        })();
    </script>

    <div class="head-title">
        <h4 th:text="${title}"></h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <th:block th:if="${pluginFinder.available('PluginSearchWidget')}">
            <a class="search-btn" href="javascript:SearchWidget.open()"></a>
        </th:block>
    </div> 

    <th:block th:replace="~{module/menu}" />

</header>
